<template name="overviewPanel">
    <div class="panel panel-info">
        <div class="panel-heading">
            <h2 class="panel-title">
                {{#if isCurrentUsers}}
                    <a href="#" class="text-danger" data-toggle="modal" data-target="#editQueryNameModal">
                        {{{queryName}}} - Overview
                    </a>
                {{else}}
                    {{{queryName}}} - Overview
                {{/if}}
                {{#if isLoggedIn}}
                    {{#if isQueryStarred}}
                        <i class="fa fa-star pull-right" id="unstarQuery"></i>
                    {{else}}
                        <i class="fa fa-star-o pull-right" id="starQuery"></i>
                    {{/if}}
                {{/if}}
            </h2>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-4 col-xs-12">
                            <strong>Regions</strong>
                            {{#if isCurrentUsers}}
                                &nbsp;(<a href="#" id="editRegionsBtn" class="text-danger">Edit</a>)
                            {{/if}}
                        </div>
                        <div class="col-md-8 col-xs-12">
                            {{regions}}
                        </div>
                    </div>
                    <div class="row">
                        <strong class="col-md-4 col-xs-12">Junctions</strong>
                        <div class="col-md-8 col-xs-12">
                            {{numJunctions}}
                            {{#if limitedJunctions}}
                                <br>
                                <i class="text-warning">results limited, add a filter to narrow results</i>
                            {{/if}}
                        </div>
                    </div>
                    <div class="row">
                        <strong class="col-md-4" col-xs-12>Query&nbsp;Date</strong>
                        <div class="col-md-8 col-xs-12">
                            {{queryDate}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <strong>UCSC Links</strong>
                            <br>
                            <ul>
                                {{#each regionsArr}}
                                    <li>
                                        <a href="#" class="ucscLink" datavalue="{{this}}">{{this}}</a>
                                    </li>
                                {{/each}}
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="col-xs-12">
                            <strong><i class="fa fa-filter"></i> Filters</strong>
                            {{#if isCurrentUsers}}
                                &nbsp;(<a href="#" id="editFiltersBtn" class="text-danger">Edit</a>)
                            {{/if}}
                        </div>
                        <br>
                        <div class="col-xs-9">
                            {{{filterSummary}}}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        {{#unless isCurrentUsers}}
                            <br>
                            {{#if isLoggedIn}}
                                <i class="btn btn-link" id="copyQueryBtn">Copy query to your account</i>
                            {{else}}
                                <i>&nbsp;&nbsp;Sign in to edit queries</i>
                            {{/if}}
                        {{/unless}}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="editQueryNameModal" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Set Query Name</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group input-group">
                            <input type="text" class="form-control" id="editQueryNameInput">
                            <span class="input-group-btn">
                                <button class="btn btn-default pull-right" id="editQueryNameBtn" type="button">
                                    Change
                                </button>
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</template>